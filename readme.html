
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<!--   <link rel="stylesheet" href="fe.css">-->
<style>
p    {margin-top: 0.5em; margin-bottom: 0em; line-height: 120%;}
       p.epigraph {text-align: right; margin-right: 10%}
       p.epi-author {text-align: right; margin-right: 10%; margin-bottom: 1em}
       p.example {font-size: small; margin-right: 5%; margin-left: 5%; font-style: italic}
       p.signature {font-size: small; font-style: italic; text-align: right; margin-top: 2em}
       p.encoding  {font-size: x-small; text-align: right; margin: 0pt}
       u.fresheye {text-decoration: none; background-color: yellow}
       a    {text-decoration: none}

.name {color: #202020; font-style: italic;}
.key {color: #202020; font-family: sans-serif; font-size: 90%;}
.sitenewsold {background-color: #e0e0e0; padding: 1em; font-size: 90%;}

.sitenews {font-size: small; font-family: sans-serif; margin-left: 0%; margin-right: 50%;
margin-bottom: 1.5em; margin-top: 1.5em}
.displayurl {font-size: x-small; margin-left: 0%; margin-right: 0%; }
.copy {font-size: x-small; margin-left: 0%; margin-right: 0%; }
.version {font-size: x-small; margin-left: 0%; margin-right: 0%; }

.table {margin: 0px} 
table {margin: 0px} 

.title {font-size: 250%; margin-right: 5cm}
.author {font-style: italic; margin-bottom: 1cm}

.epi {font-style: italic; margin-left: 50%; margin-right: 10%; font-size: small; text-align: right; line-height: 140%;}
.epi-author {font-style: normal; margin-top: 1em; margin-left: 60%; font-size: small; text-align: right;}

.num1 {margin-top: 0cm; margin-bottom: 0em; margin-left: 0cm; margin-right: 1cm; font-size: 100%;  color: #999999;}
.num2 {margin-top: 0cm; margin-bottom: 0em; margin-left: 0cm; margin-right: 2cm; font-size: 100%;  color: #999999;}
.num3 {margin-top: 0cm; margin-bottom: 0em; margin-left: 0cm; margin-right: 3cm; font-size: 100%;  color: #999999;}
.num4 {margin-top: 0cm; margin-bottom: 0em; margin-left: 0cm; margin-right: 4cm; font-size: 100%;  color: #999999;}

.toc1 {margin-top: 0cm; margin-bottom: 0cm; margin-left: 0cm; font-size: 85%; font-weight: normal}
.toc2 {margin-top: 0cm; margin-bottom: 0cm; margin-left: 0cm; font-size:  70%; font-weight: bold}
.toc3 {margin-top: 0cm; margin-bottom: 0cm; margin-left: 0cm; font-size:  50%; font-weight: normal}
.toc4 {margin-top: 0cm; margin-bottom: 0cm; margin-left: 0cm; font-size:  40%; font-style:  italic}

li {margin-left: 0cm; padding-left: 0cm}
ul {margin-left: 0cm; padding-left: 0cm; margin-top: 0cm; padding-top: 0cm}

li ul p li {margin-left: 1cm; padding-left: 0cm}
li ul {margin-left: 1cm; padding-left: 0cm; margin-top: 0cm; padding-top: 0cm}


h1 {margin-left: 0cm; font-weight: normal; font-size: large}
h2 {margin-left: 0cm; font-size: small}
h3 {margin-left: 0cm;}
h4 {margin-left: 0cm; font-weight: normal; font-style: italic}
body {padding-left: 10%; padding-right: 10%; background-color: white}
</style>
<title>Свежий Взгляд  /  Fresh Eye </title>
<meta name="keywords" content="Свежий Взгляд, Fresh Eye, тавтология, паронимы, параллелизм, стилистика, проверка, автоматически, ошибки, ляпы, вычитка, корректура, GNU GPL">
<meta name="description" content="Свежий Взгляд - утилита для автоматического поиска нечаянных тавтологий: стилистических ошибок, состоящих в ненамеренном близком соседстве фонетически или морфологически схожих слов.">
</head><body link="#2255dd" vlink="#2255dd"><p><span class="displayurl"><a href="http://www.kirsanov.com/fresheye/">http://www.kirsanov.com/fresheye/</a></span>&nbsp;&nbsp;
<span class="displayurl"><a href="http://fresheye.sourceforge.net">http://fresheye.sourceforge.net</a></span>&nbsp;&nbsp;
<span class="version">Version 1.4pre (1.3.7)</span>&nbsp;&nbsp;
<span class="copy">&#169; 1994-2002, OnMind Systems</span>&nbsp;&nbsp;

</p>

<center><h1><img style="margin-top: 1.5em; margin-bottom: 1.5em" src="fex.gif" alt="Fresh Eye [*] яБЕФХИ бГЦКЪД" width="400" height="123"></h1></center>
<p class="epi">
                                    У какого-то писателя я встретил
                                    в одной фразе &#171;кошку&#187; и &#171;кишку&#187;&nbsp;&#8212;
                                    отвратительно!  Меня едва не
                                    стошнило.


</p><p class="epi-author">
                                                      Лев Толстой
</p><h1>Что это такое</h1>

<p>Программа <span class="name">Свежий Взгляд</span> может быть полезна всем, чья деятельность
связана с сочинением или редактированием текстов на русском
языке. Это не универсальный корректор, а специализированная утилита
для поиска лишь одной разновидности стилистических ошибок&nbsp;&#8212;
относящихся, впрочем, к самым досадным и крайне трудных для
обнаружения без помощи компьютера. Если вы уже не допускаете
элементарных стилистических ляпов, а тексты ваши рассчитаны на
внимательное и неоднократное чтение, <span class="name">Свежий Взгляд</span> способен стать
для вас одним из самых необходимых инструментов (тем более, что
какие-либо аналоги реализованного в программе алгоритма авторам
неизвестны). Посмотрите на свои тексты <span class="name">Свежим Взглядом</span>!</p><p><p class="toc1"><span class="num1">1</span>&nbsp;<a href="#d0e56">Зачем это нужно</a></p><p class="toc1"><span class="num1">2</span>&nbsp;<a href="#d0e453">Что нового</a></p><p class="toc1"><span class="num1">3</span>&nbsp;<a href="#d0e494">Условия распространения</a></p><p class="toc1"><span class="num1">4</span>&nbsp;<a href="#d0e504">Инсталляция</a></p><p class="toc2"><span class="num2">4.1</span>&nbsp;<a href="#d0e508">Windows</a></p><p class="toc2"><span class="num2">4.2</span>&nbsp;<a href="#d0e521">Unix (Linux, BSD, Solaris, ...)</a></p><p class="toc1"><span class="num1">5</span>&nbsp;<a href="#d0e535">Работа</a></p><p class="toc2"><span class="num2">5.1</span>&nbsp;<a href="#d0e539">Запуск</a></p><p class="toc2"><span class="num2">5.2</span>&nbsp;<a href="#d0e576">Интерактивный режим</a></p><p class="toc2"><span class="num2">5.3</span>&nbsp;<a href="#d0e623">Лог-файл</a></p><p class="toc2"><span class="num2">5.4</span>&nbsp;<a href="#d0e643">Возобновление</a></p><p class="toc2"><span class="num2">5.5</span>&nbsp;<a href="#d0e666">Пакетный режим</a></p><p class="toc1"><span class="num1">6</span>&nbsp;<a href="#d0e696">Алгоритм</a></p><p class="toc2"><span class="num2">6.1</span>&nbsp;<a href="#d0e700">Параметры оценки</a></p><p class="toc2"><span class="num2">6.2</span>&nbsp;<a href="#d0e769">Частотный словарь</a></p><p class="toc2"><span class="num2">6.3</span>&nbsp;<a href="#d0e810">Вычисление badness</a></p><p class="toc2"><span class="num2">6.4</span>&nbsp;<a href="#d0e875">Игнорируемые слова</a></p><p class="toc2"><span class="num2">6.5</span>&nbsp;<a href="#d0e890">Что еще не сделано</a></p><p class="toc1"><span class="num1">7</span>&nbsp;<a href="#d0e971">Авторы</a></p><p class="toc1"><span class="num1">8</span>&nbsp;<a href="#d0e1005">Другие программы Дмитрия Кирсанова</a></p><p class="toc2"><span class="num2">8.1</span>&nbsp;<a href="#d0e1009">Transforming Text Editor</a></p><p class="toc2"><span class="num2">8.2</span>&nbsp;<a href="#d0e1024">Russian Word Constructor</a></p></p><a name="d0e56"><h1><span class="num1">1</span>&nbsp;Зачем это нужно</h1></a><p>Идея программы крайне проста. <span class="name">Свежий Взгляд</span> отыскивает в тексте
места, подозрительные на предмет одной из самых распространенных
стилистических погрешностей: расположенных близко по тексту
фонетически (а часто и морфологически) сходных слов, чей параллелизм
никак не мотивирован (так называемая <em>паронимия</em>, или
&#171;нечаянная тавтология&#187;). Вот некоторые из ошибок, найденных
программой:</p><p class="example">...при <u class="fresheye">условии</u>, что нелогичность эта
художественная, <u class="fresheye">обусловленная</u> композиционными
соображениями...</p><p class="example">...чтобы его сайты <u class="fresheye">соответствовали</u> духу и букве
<u class="fresheye">соответствующих</u> стандартов...</p><p class="example">...и тем <u class="fresheye">самым</u> установить контроль
как над <u class="fresheye">самим</u> стандартом, так и над соответствующим сегментом рынка...</p><p class="example">...спираль <u class="fresheye">развития</u> HTML завершила свой
первый <u class="fresheye">виток</u>...</p><p class="example">...не только на весь документ в целом, но и на какую-то <u class="fresheye">точку</u> 
(<u class="fresheye">точнее</u>, на какой-то элемент)...</p><p class="example">...единственный <u class="fresheye">способ</u> <u class="fresheye">приспособить</u> этот язык...</p><p class="example">...придется <u class="fresheye">преобразовать</u> в XML следующим <u class="fresheye">образом</u>...</p><p class="example">...<u class="fresheye">приемов</u>, позволяющих добиться <u class="fresheye">приемлемого</u> качества...</p><p class="example">...к сожалению, <u class="fresheye">существует</u> сразу несколько препятствий к <u class="fresheye">осуществлению</u> этой схемы...</p><p class="example">...<u class="fresheye">соответствующим</u>
модулем, <u class="fresheye">ответственность</u> за запуск которого...</p><p class="example">...при определении субъективного размера неважные <u class="fresheye">части</u> формы
учитываются лишь <u class="fresheye">частично</u> или игнорируются вообще...</p><p class="example">...границы <u class="fresheye">объекта</u> становятся трудноразличимыми и
<u class="fresheye">субъективно</u> он может восприниматься значительно большим, чем на самом деле...</p><p class="example">...традиционная парадигма заголовка как самой
выдающейся, "<u class="fresheye">издалека</u>
видной" части композиции <u class="fresheye">далеко</u> не всегда практически оправдана...</p><p class="example">...особо стоит упомянуть об отношениях с окружающим <u class="fresheye">пространством</u>
такого <u class="fresheye">распространеннейшего</u> элемента, как колонка текста...</p><p class="example">...на первый <u class="fresheye">взгляд</u> <u class="fresheye">выглядит</u> более привлекательным...</p><p class="example">...<u class="fresheye">вместо</u> нее это <u class="fresheye">место</u> занял...</p><p class="example">...в последнее <u class="fresheye">время</u> неожиданно <u class="fresheye">современно</u> зазвучали...</p><p class="example">...принципы <u class="fresheye">подбора</u> шрифтов достаточно <u class="fresheye">подробно</u> рассмотрены...</p><p class="example">...были <u class="fresheye">довольно</u> дорогим <u class="fresheye">удовольствием</u>...</p><p class="example">...<u class="fresheye">представив</u> зрителю главное действующее лицо <u class="fresheye">предстоящей</u> феерии дизайна...</p><p class="example">...в <u class="fresheye">виде</u> частично <u class="fresheye">видимой</u> фотографии...</p><p class="example">...хотя и не несет никакой практической <u class="fresheye">пользы</u>, как правило,
повышает субъективную оценку дизайна <u class="fresheye">пользователем</u>...</p><p class="example">...<u class="fresheye">имеет</u> еще одно проявление, специфическое
<u class="fresheye">именно</u> для дизайна логотипов...</p><p class="example">...без <u class="fresheye">знакомства</u> со сферой деятельности
владельца <u class="fresheye">знака</u>...</p><p class="example">...при этом обычное <u class="fresheye">направление</u>
восприятия информации - слева <u class="fresheye">направо</u> - диктует...</p><p class="example">...в первую <u class="fresheye">очередь</u>, <u class="fresheye">очевидно</u>, баннеры должны...</p><p class="example">...в <u class="fresheye">определенных</u> <u class="fresheye">пределах</u>...</p><p class="example">...аппроксимируют <u class="fresheye">исходное</u>
изображение областями плоского цвета (<u class="fresheye">сходный</u> эффект дает...</p><p class="example"><u class="fresheye">Соответственно</u>, для XML-документов существует два уровня <u class="fresheye">соответствия</u> стандарту...</p><p class="example">Размеченный таким <u class="fresheye">образом</u> документ нелегко будет <u class="fresheye">преобразовать</u>...</p><p class="example">...попробуем <u class="fresheye">разобрать</u> типы <u class="fresheye">изображений</u> по выполняемым ими функциям...</p><p class="example">...этот вариант <u class="fresheye">следует</u> выбирать для <u class="fresheye">следующих</u> кадров...</p><p class="example">...можно <u class="fresheye">пользоваться</u>, не боясь ограничить свою аудиторию <u class="fresheye">пользователями</u>...</p><p class="example"> ...<u class="fresheye">несколько</u> хитрее - они манипулируют сразу <u class="fresheye">несколькими</u> параметрами</p><p class="example">Как правило, <u class="fresheye">после</u> <u class="fresheye">посылки</u>...</p><p class="example"> ...минимально <u class="fresheye">возможное</u> количество информации, которое <u class="fresheye">можно</u>...</p><p class="example"> ...<u class="fresheye">своих</u> <u class="fresheye">свойств</u>...</p><p class="example"> ...<u class="fresheye">определяя</u> для себя их приоритеты. Обнаружена <u class="fresheye">определенная</u> динамика...</p><p class="example"> ...ресурсов в одну <u class="fresheye">общедоступную</u> систему.  Вавилонское столпотворение
    форматов, протоколов и методов <u class="fresheye">доступа</u> сменяется единой...</p><p class="example"> ...ситуация еще <u class="fresheye">больше</u> упростилась, так как <u class="fresheye">большинство</u>...</p><p>Удивительнее всего то, что тексты, из которых взяты приведенные
примеры, вычитывались многими людьми и не по одному разу.  И тем не
менее, понадобился <span class="name">Свежий Взгляд</span>, чтобы все это не
отправилось в типографию.  (Если вы не верите, что программа смогла
самостоятельно найти эти ошибки&nbsp;&#8212; запустите ее на обработку файла,
который сейчас читаете, и убедитесь сами.)</p><p>Далеко не всякая тавтология является ошибкой. В техническом тексте
вряд ли можно избежать частого повторения терминов; в художественных
и публицистических текстах лексический или фонетический параллелизм
зачастую служит средством достижения выразительности.  И все же в
значительной доле случаев тавтология есть результат стилистической
неряшливости. Даже тогда, когда соседство бессмысленно похожих слов
не режет глаз, замена одного из них на фонетически далекий синоним
почти всегда делает текст плотнее, устойчивее и интереснее. К
сожалению, ошибки такого рода легко допустить и трудно обнаружить
именно благодаря их &#171;тавтологичности&#187;&nbsp;&#8212; что и послужило стимулом для
создания программы, взгляд которой остается всегда свежим и
незамыленным.</p><p>Конечно, программа не исправляет ошибки сама&nbsp;&#8212; она лишь находит их,
причем далеко не все из найденного действительно следует
править. Без определенного навыка даже автор-профессионал не всегда
может быстро решить, является ли найденный <span class="name">Свежим Взглядом</span> контекст
стилистической ошибкой, и тем более&nbsp;&#8212; на лету сообразить, как
избавиться от тавтологии.  Однако со временем те, кто регулярно
пользуется этой программой, вырабатывают вкус к фонетической и
смысловой полновесности и приучаются избегать в своих текстах
большой части тех ошибок, на отлов которых нацелен <span class="name">Свежий Взгляд</span>.</p><a name="d0e453"><h1><span class="num1">2</span>&nbsp;Что нового</h1></a><p>Главные отличия версии 1.4:</p><ul>
<li><p>Поддержка платформ Windows, Linux, FreeBSD, OpenBSD,
NetBSD, Sun Solaris, Cygwin. Вероятно, без сколько-нибудь
значительных изменений программа будет компилироваться и работать и
на многих других платформах.</p></li>

<li><p>Поддержка основных кодировок русского языка: CP-1251, CP-866,
KOI8-R, Mac, ISO 8859-5.</p></li>

<li><p>Улучшения в алгоритме, позволившие снизить число ложных
срабатываний.</p></li>

<li><p>Снятие каких бы то ни было ограничений на размер входного файла,
количество букв в слове, длину строки, число строк в файле, размер
частотного словаря и длину контекста. Единственное ограничение&nbsp;&#8212;
объем оперативной памяти вашего компьютера.</p></li>

<li><p>Оптимизация по скорости: в одинаковых условиях версия 1.4 работает
в несколько раз быстрее, чем предыдущая (1.21).</p></li>

<li><p>Новый интерфейс командной строки (стандарт GNU).</p></li>
</ul><p>Подробный список изменений см. в файле <code>ChangeLog</code>.</p><a name="d0e494"><h1><span class="num1">3</span>&nbsp;Условия распространения</h1></a><p>Программа <span class="name">Свежий Взгляд</span> распространяется на условиях GNU GPL
(см. файл COPYING) в виде исходного текста на языке C. (Дистрибутив
для Windows включает в себя также скомпилированный исполняемый
файл.) Авторы будут благодарны за упоминание программы в выходных
данных обработанных ею книг или других текстов. </p><a name="d0e504"><h1><span class="num1">4</span>&nbsp;Инсталляция</h1></a><a name="d0e508"><h2><span class="num2">4.1</span>&nbsp;Windows</h2></a><p>Под Windows достаточно скопировать исполняемый файл программы
(fe.exe) в один из каталогов, перечисленных в <code>$PATH</code> (или, в крайнем
случае, в тот каталог, где вы храните свои тексты). Если вы хотите
скомпилировать программу под Windows, см. файл <code>win32\readme</code>.</p><a name="d0e521"><h2><span class="num2">4.2</span>&nbsp;Unix (Linux, BSD, Solaris, ...)</h2></a><p>Подробные инструкции по компиляции и установке программы для Unix см. в файле
<code>INSTALL</code>. Коротко: <code>./configure; make; make install</code>.</p><a name="d0e535"><h1><span class="num1">5</span>&nbsp;Работа</h1></a><a name="d0e539"><h2><span class="num2">5.1</span>&nbsp;Запуск</h2></a><p><span class="name">Свежий Взгляд</span> запускается из командной строки и обрабатывает файлы в
формате &#171;просто текст&#187; (plain text):</p><pre>fe [опции] исходный-файл</pre><p>Поскольку латинские буквы программой игнорируются, на практике это
означает, что с тем же успехом можно использовать <span class="name">Свежий Взгляд</span> для
проверки текста, размеченного в ТеХе, в XML (без русских имен
элементов), в HTML и т.п.</p><p>По умолчанию предполагается, что входной файл использует кодировку
CP866 (&#171;альтернативную&#187;, или &#171;досовскую&#187;) на Windows и KOI8-R на
Unix. Вы можете явно указать кодировку текста опцией <code>-I</code>.  Например,</p><pre>fe -I cp1251 исходный-файл</pre><p>обработает файл в кодировке CP1251 (кодировке Windows). (Кстати, эта
кодировка не сделана стандартной на платформе Windows, потому что в
&#171;окне MS-DOS&#187;, в котором запускается программа, правильно
отображается только CP866.)</p><p>В состав дистрибутива входит также утилита ce, которой можно
пользоваться для трансляции русских текстов из одной кодировки в
другую. Чтобы получить справку по использованию этой утилиты,
напишите</p><pre>ce --help</pre><a name="d0e576"><h2><span class="num2">5.2</span>&nbsp;Интерактивный режим</h2></a><p>Встретив ошибку, <span class="name">Свежий Взгляд</span> выводит на экран соответствующий
контекст, подчеркнув в нем подозрительные слова, и спрашивает
пользователя, не записать ли это место в лог-файл (по умолчанию он
называется <code>fresheye.log</code> и создается в том же каталоге, что и
обрабатываемый файл).  По окончании проверки вы можете исправить
неблагозвучные фрагменты в текстовом редакторе, пользуясь в качестве
подсказки содержимым лог-файла.</p><p>В ответ на очередной запрос вы можете нажать одну из следующих
клавиш (плюс <span class="key">Enter</span>):</p><ul>
<li><p><span class="key">Y</span>: записать найденный контекст в лог-файл;</p></li>
<li><p><span class="key">N</span> или пробел: пропустить это место и продолжить проверку;</p></li>
<li><p><span class="key">S</span>: остановить работу программы;</p></li>
<li><p><span class="key">H</span>: вывести краткую подсказку.</p></li>
</ul><a name="d0e623"><h2><span class="num2">5.3</span>&nbsp;Лог-файл</h2></a><p>Если лог-файл уже существует на момент запуска программы, результаты
ее работы всегда дописываются в конец лог-файла. Это значит, что при
обработке нескольких файлов в одном каталоге все результаты проверки
будут записаны в один файл. Для каждого сеанса работы, помимо
отобранных пользователем стилистических погрешностей, в лог-файле
сохраняется информация о количестве просмотренных строк, слов, числе
срабатываний и занесенных в лог-файл фрагментов.</p><p>По умолчанию лог-файл называется <code>fresheye.log</code>, но вы можете указать
любое другое имя с помощью опции <code>-o</code>, например:</p><pre>fe -o myfile.fe myfile.txt</pre><a name="d0e643"><h2><span class="num2">5.4</span>&nbsp;Возобновление</h2></a><p>Опция <code>-r</code> позволяет включить режим возобновления обработки, удобный
для правки больших файлов в несколько приемов. Добавив в командную
строку <code>-ry</code>, вы заставите <span class="name">Свежий Взгляд</span> прочитать существующий
лог-файл, чтобы выяснить, не проверял ли он заказанный текст ранее.
Если файл уже обрабатывался, проверка будет возобновлена с той
строки, до которой вы дошли в прошлый раз. С опцией <code>-rn</code> (оставленной
для совместимости со старыми версиями программы) или в отсутствие
опции <code>-r</code> программа всегда будет обрабатывать файл с начала.</p><a name="d0e666"><h2><span class="num2">5.5</span>&nbsp;Пакетный режим</h2></a><p>Можно попросить <span class="name">Свежий Взгляд</span> записывать в лог-файл все, что он
сочтет неблагозвучным, не спрашивая совета пользователя.  На время
раздумий программу можно предоставить самой себе, после чего вам
останется лишь быстро пробежаться по лог-файлу, отмечая то, что
действительно требует исправления. Для этого достаточно добавить в
командную строку опцию <code>-a</code>. Например,</p><pre>fe -a -o allfiles *.txt</pre><p>обработает в пакетном режиме все текстовые файлы текущего каталога и
запишет найденные ошибки в лог-файл <code>allfiles</code>.</p><p>Кроме того, перейти в пакетный режим можно, нажав <span class="key">a</span> (латинское) в
ответ на очередной интерактивный запрос программы.</p><a name="d0e696"><h1><span class="num1">6</span>&nbsp;Алгоритм</h1></a><a name="d0e700"><h2><span class="num2">6.1</span>&nbsp;Параметры оценки</h2></a><p>Познакомимся теперь с числовыми параметрами, которыми пользуется
<span class="name">Свежий Взгляд</span> при оценке стилистических шероховатостей. Для каждой
пары слов, не понравившихся программе, выводятся на экран и/или
записываются в протокольный файл следующие величины:</p><ul>

<li><p><code>line &lt;число&gt;</code><br>

Номер строки, в которой произошло срабатывание.  Он поможет вам
быстро найти нужное место в файле.</p></li>

<li><p><code>sim = &lt;число&gt;</code><br>

Коэффициент сходства найденных слов.  Подсчитывается по особому
алгоритму, призванному моделировать психологическое восприятие
схожести слов.  Может принимать значения от 0 (&#171;бузина&#187; и &#171;дядька&#187;)
до 1500 и выше (длинные совпадающие словоформы).</p></li>

<li><p><code>dist = &lt;число&gt;</code><br>  

Психологическое контекстное расстояние между отмеченными словами.
Определяется качеством и количеством стоящих в промежутке
разделителей&nbsp;&#8212; слов (с учетом длины), пробелов (несколько идущих
друг за другом пробелов воспринимаются как один), знаков препинания,
границ абзаца (пустая строка) и т.п.  Учитывается также частотность
рассматриваемых слов в данном тексте.</p></li>

<li><p><code>badness = &lt;число&gt;</code><br> 

Окончательное суждение <span class="name">Свежего Взгляда</span> о степени нежелательности
соседства данной пары слов, выраженное в числовой форме.  Эта
величина тем больше, чем сильнее слова похожи друг на друга
(т.е. чем больше параметр sim) и тем меньше, чем больше расстояние
между ними (параметр dist).  Срабатывание происходит, если badness
превышает определенный порог (по умолчанию 500), который можно
задать параметром <code>-s &lt;число&gt;</code> в командной строке.  Например:

  <pre>fe -s 650 glava5</pre> 

При значении этого параметра 700 и выше <span class="name">Свежий Взгляд</span> будет
отлавливать почти исключительно одинаковые слова в разных формах.
Уменьшив порог до 400, вы увеличите количество срабатываний
(особенно, к сожалению,&nbsp;&#8212; ложных), но зато сможете обнаружить менее
очевидные огрехи.</p></li>
</ul><p>Кроме того, с помощью опции <code>-l &lt;число&gt;</code> в командной строке можно
установить <em>длину контекста</em>&nbsp;&#8212; количество только что прочитанных
слов, которые помнит <span class="name">Свежий Взгляд</span> и с которыми он сравнивает новое
слово (по умолчанию 15).  Увеличение длины контекста не только
позволяет найти более далекие друг от друга тавтологические пары, но
и увеличивает значения <code>badness</code> для близких пар.
</p><a name="d0e769"><h2><span class="num2">6.2</span>&nbsp;Частотный словарь</h2></a><p>Для тех слов, которые встречаются в тексте наиболее часто, параметр
dist искусственно увеличивается (т.е. слова как бы разводятся в
стороны), чтобы сделать программу терпимее к близкому соседству
частотных слов.  Величина этого &#171;растаскивания&#187; определяется тем,
сколько раз каждое из сравниваемых слов встретилось во всем тексте.
Вот для чего <span class="name">Свежий Взгляд</span> перед началом собственно проверки
набирает частотный словарь по данному тексту.</p><p>Степень учета информации о частотности слов регулируется также
особым коэффициентом, который может принимать значения от 0 до 100
(по умолчанию 50) и устанавливается параметром <code>-c &lt;число&gt;</code> в
командной строке. Чем больше этот коэффициент, тем заметнее
уменьшается количество срабатываний на часто встречающихся словах.
Это позволяет в определенной степени учитывать характер
обрабатываемого текста. </p><p>Скажем, научные статьи или технические описания изобилуют часто
повторяемыми терминами, и параметр <code>-c</code> для них можно увеличить,
чтобы программа почти не обращала внимания на созвучия и повторения
частотных слов. Так, проверка этого файла с отключенным
частотным словарем</p><pre>fe -c 0 README.Russian</pre><p>резко увеличит количество срабатываний на частотных словах
&#171;программа&#187;, &#171;текст&#187;, &#171;файл&#187; и т.п.  Наоборот, для сколько-нибудь
художественных текстов близкое соседство слов, даже весьма частотных
в масштабах всего текста, крайне нежелательно, поэтому для них нужно
понизить параметр <code>-c</code>.</p><p>Чтобы <span class="name">Свежий Взгляд</span> мог набрать достаточно представительный
частотный словарь, объем обрабатываемого текста должен быть не менее
15-20 Кб.  Указав в командной строке опцию <code>-d</code>, вы заставите
программу записать полученный словарь (отсортированный по количеству
вхождений и не включающий слова, встретившиеся в тексте лишь один
раз) в лог-файл.  Для каждого слова (приведенного в той форме,
в которой оно первый раз встретилось в тексте) указаны его число
вхождений и соответствующий коэффициент информативности,
изменяющийся от 1000 у одноразовых слов до приблизительно 200-300
для самых частотных.</p><a name="d0e810"><h2><span class="num2">6.3</span>&nbsp;Вычисление badness</h2></a><p>При вычислении коэффициента сходства словоформ (параметра <code>sim</code>)
учитываются:</p><ul>
<li><p>степень &#171;фонетической близости&#187; букв (&#171;одна и та же буква&#187;, &#171;очень
близкие буквы&#187;&nbsp;&#8212; например, &#171;ф&#187; и &#171;в&#187;, и &#171;чем-то схожие буквы&#187;&nbsp;&#8212;
например, &#171;м&#187; и &#171;н&#187;);</p></li>

<li><p>частотность букв в русском языке: чем более редкие буквы входят в
пару похожих слов, тем сильнее бросается в глаза их сходство;</p></li>

<li><p>количество и длина совпадающих или схожих фрагментов в
сравниваемых словоформах;</p></li>

<li><p>место в слове сопоставляемых фрагментов (начало слова, как
известно, намного информативнее, чем его конец), а также взаимное
расположение фрагментов в сравниваемых словах;</p></li>

<li><p>соотношение длин сравниваемых слов;</p></li>

<li><p>количество и частотность букв в несовпадающих частях слов: чем
больше букв, которые есть только в одном из двух слов, и чем реже
встречаются эти буквы (т.е. чем больше они несут информации), тем
меньше sim для этой пары.</p></li>
</ul><p>После вычисления <code>sim</code> определяется параметр <code>dist</code>, для чего каждому
разделителю (цепочка идущих подряд пробелов, знак препинания,
граница абзаца и т.п.) приписывается вес из некоторой
таблицы. Вычисленная для данной пары слов сумма этих весов
корректируется на основе информации частотного словаря.  Наконец, из
<code>sim</code> и <code>dist</code> вычисляется параметр <code>badness</code> по формуле нормального
распределения (коэффициент &#171;сигма&#187; пропорционален длине контекста)&nbsp;&#8212;
иными словами, <code>badness</code> принимает значения от <code>sim</code> до нуля по
гауссиане в зависимости от <code>dist</code>.</p><a name="d0e875"><h2><span class="num2">6.4</span>&nbsp;Игнорируемые слова</h2></a><p>В программе предусмотрен небольшой словарь исключений, 
содержащий распространенные словосочетания типа &#171;друг друга&#187;,
&#171;в конце концов&#187;, &#171;полным-полно&#187; и т.п. Все эти случаи
программой, естественно, игнорируются.</p><p><span class="name">Свежий Взгляд</span> пытается по мере сил отыскивать в тексте имена
собственные, чтобы не обращать внимание на их сходство с другими
словами.  Алгоритм очень прост: именем собственным считается
любое слово, написанное с заглавной буквы и не стоящее в начале
предложения или после открывающей кавычки.  В большинстве
случаев это свойство программы позволяет снизить число ложных
срабатываний.  Если же ваши требования столь высоки, что фраза
&#171;На диване сидел Иван&#187; кажется вам абсолютно недопустимой, вы
можете отключить режим поиска имен собственных с помощью опции
<code>-p</code>.</p><a name="d0e890"><h2><span class="num2">6.5</span>&nbsp;Что еще не сделано</h2></a><p>Очевидно, что реализованный в программе алгоритм может быть
значительно усовершенствован. Вот несколько идей:</p><ul>
<li><p>Набираемый программой частотный словарь дает количество
вхождений в тексте для слов, а не их форм, хотя примененный
алгоритм лемматизации (идентификации слов по формам)
весьма примитивен и правильно работает лишь приблизительно в
90% случаев (например, &#171;искать&#187; и &#171;ищет&#187; считаются разными
словами). Очевидно, что лингвистически корректная лемматизация
могла бы заметно повлиять на качество работы программы. Изобретать
велосипед не требуется: существует свободный (под GNU GPL)
спелл-чекер Ispell, для которого есть словарь аффиксов и грамматики
для русского языка. Нужно лишь приспособить алгоритм Ispell,
сводящий слово к его словарной форме, к <span class="name">Свежему Взгляду</span>. </p>

<p>Кроме набора частотного словаря, корректный алгоритм лемматизации
можно будет использовать и при собственно проверке текста. Так,
параметр badness имеет смысл менять в зависимости от того, является
ли найденная тавтологическая пара одним и тем же словом в разных
грамматических формах или же разными, хоть и похожими словами. Более
того, можно будет реализовать особый режим проверки, ищущий только
пары редких в масштабах всего текста однокоренных слов или форм
одного слова: их нечаянное соседство режет глаз даже на большом
расстоянии (в соседних абзацах и даже дальше), но попытка найти их
стандартным алгоритмом <span class="name">Свежего Взгляда</span> с большой длиной контекста
приводит к резкому увеличению числа ложных срабатываний.</p></li>

<li><p>Сейчас алгоритм вычисления badness учитывает информативность
только отдельных букв (на основе их частотности в языке), а <code>dist</code>&nbsp;&#8212;
информативность слов (на основе их частотности в данном
тексте). Интересно было бы использовать информацию о частотности
всех возможных буквосочетаний (скажем, длиной до 4 или 5 букв),
причем в зависимости от их места в слове (сейчас для букв
различаются только положение в начале слова и в любой другой
позиции). Для определения информативности слов имеет смысл как-либо
комбинировать значения частотности данного слова в проверяемом
тексте и в языке в целом или, по крайней мере, позволить программе
записывать и впоследствии использовать частотный словарь предыдущих
сеансов работы. </p></li>

<li><p>Таблица весов разделителей, используемая при вычислении <code>dist</code>,
сейчас жестко зашита в программу. Нужно сделать ее изменяемой с
помощью настроечного файла, в котором для каждого разделителя
хранились бы соответствующее регулярное выражение и значение
веса. Это позволит, в частности, лучше приспособить программу для
работы с текстами в XML; например, если ваши заголовки размечены
тегами <code>&lt;head&gt;...&lt;/head&gt;</code>, то в настройках достаточно приписать
этим цепочкам символов очень большие веса, чтобы предотвратить
срабатывание на словах из заголовка, повторяемых в первом
предложении следующего за заголовком текста.</p></li>
</ul><p>Кроме того, в планах:</p><ul>
<li><p>XML-формат для лог-файла, чтобы облегчить его автоматическую
обработку (например, с помощью XSLT-трансформаций).</p></li>

<li><p>API для встраивания <span class="name">Свежего Взгляда</span> в текстовые редакторы,
программы электронной почты и т.п. В частности, хотелось бы иметь
возможность проверять свои тексты не выходя из (X)Emacs.</p></li>

<li><p>Поддержка Unicode (для начала хотя бы в UTF-8). </p></li>

<li><p>Автоматическое определение кодировки входного файла.</p></li>

<li><p>Опции для задания кодировки экранного вывода и лог-файла (сейчас
она всегда совпадает с кодировкой обрабатываемого файла). </p></li>

<li><p>Для Unix&nbsp;&#8212; использование кодировки locale и документация в texinfo
и в man-странице. </p></li>

<li><p>Упрощение установки: программа-инсталлятор для Windows и
автоматическая генерация бинарных дистрибутивов (RPM, DEB) для
Unix. </p></li>
</ul><p>Само собой, вы можете принять посильное участие в реализации этих (и
других) замыслов. Если вы внесли (или планируете внести) какое-либо
изменение в код программы, пожалуйста, свяжитесь с авторами
(см. следующий раздел).</p><a name="d0e971"><h1><span class="num1">7</span>&nbsp;Авторы</h1></a><ul>
<li><p>Дмитрий Кирсанов (<a href="mailto:dmitry@kirsanov.com">dmitry@kirsanov.com</a>, <a href="http://www.kirsanov.com">http://www.kirsanov.com</a>)
разработал алгоритм и написал первую версию <span class="name">Свежего Взгляда</span> для
MS-DOS в 1994-95. В 2002 он внес усовершенствования в алгоритм и
переписал документацию. </p></li>

<li><p>Вадим Пензин (<a href="mailto:penzin@attglobal.net">penzin@attglobal.net</a>) переписал код программы,
значительно усовершенствовав и оптимизировав ее, и перенес ее на
Linux, FreeBSD, OpenBSD и Win32 в 1999-2002.</p></li>
</ul><p>Авторы будут рады узнать впечатления пользователей от программы
<span class="name">Свежий Взгляд</span> и ответить на любые касающиеся ее вопросы.</p><a name="d0e1005"><h1><span class="num1">8</span>&nbsp;Другие программы Дмитрия Кирсанова</h1></a><a name="d0e1009"><h2><span class="num2">8.1</span>&nbsp;Transforming Text Editor</h2></a><p><a href="http://tte.sourceforge.net">http://tte.sourceforge.net</a></p><p>Transforming Text Editor&nbsp;&#8212; мощный и гибкий текстовый редактор,
напоминающий Emacs, но использующий XML и XPath для хранения и
обработки структурных представлений документов. Проект находится в
стадии планирования; основные архитектурные принципы нового
редактора подробно изложены в статье на
<a href="http://tte.sourceforge.net">http://tte.sourceforge.net</a>. Заинтересованные разработчики могут
связаться с Д. Кирсановым, чтобы обсудить участие в проекте.</p><a name="d0e1024"><h2><span class="num2">8.2</span>&nbsp;Russian Word Constructor</h2></a><p><a href="http://www.kirsanov.com/rwc/">http://www.kirsanov.com/rwc/</a></p><p>Экспериментальная программная система Russian Word Constructor
(RWC) представляет собой попытку изобрести &#171;инструмент поэта&#187;&nbsp;&#8212;
или, более строго, &#171;диалоговую систему для создания
русскоязычных стихоподобных текстов&#187;.  Главное в программе&nbsp;&#8212;
способность конструировать русские неологизмы на основе словаря
с лексико-статистической информацией о языке.  Это дает мощный
толчок творческой фантазии, а оригинальная полноэкранная
оболочка позволяет тут же реализовывать возникающие идеи.</p><p>Отсутствие практической пользы заставляет отнести программу
RWC скорее к категории компьютерных игр, хотя она лишена
большинства их признаков&nbsp;&#8212; не тренирует ни быстроту реакции, ни
аналитические способности.  Цель программы иная&nbsp;&#8212; доставить
радость творчества в максимально чистом виде.</p><p style="margin-top: 2em"><A href="http://sourceforge.net/projects/fresheye/"><IMG src="http://sourceforge.net/sflogo.php?group_id=47914" border="0" alt="SourceForge Logo"></A>
<small>Last updated: Thu Jun 27 01:22:26 GMT-04:00 2002</small></p></body></html>